{% import '_includes/forms' as forms %}

<div class="pa-actions">
    <div class="pa-form">
        <h2>Release package</h2>
        <div class="pa-input">
            {{ input('checkbox', 'pa-release-options', 1, {id: 'enableEntries', checked: true}) }}
            <label for="enableEntries">Enable all disabled entries</label>
        </div>
        <div class="pa-input">
            {{ input('checkbox', 'pa-release-options', 1, {id: 'removeFromPackage', checked: true}) }}
            <label for="removeFromPackage">Remove released entries from package</label>
        </div>
        <div class="pa-input">
            {{ input('checkbox', 'pa-release-options', 1, {id: 'validAllOnly', checked: true}) }}
            <label for="validAllOnly">Execute only if all entries pass validation.</label>
        </div>
        <div class="pa-input">
            {{ input('checkbox', 'pa-release-options', 1, {id: 'createBackup', checked: false}) }}
            <label for="createBackup">Create database backup.</label>
        </div>

        <button type="button" onclick="pa_release({{ entry.id }})"
                class="btn submit pa-button">
            Release package
        </button>

    </div>


    <div class="pa-form">
        <h2>Create drafts for package</h2>
        {{ forms.elementSelectField({
            id: 'attach-new-drafts',
            name: 'attach-new-drafts',
            selectionLabel: 'Add base entries',
            elementType: className(entry),
            sources: sectionConfig.getSources(),
            first: true
        }) }}

        <div class="pa-input">
            {{ input('checkbox', 'pa-attach-options', 1, {id: 'createProvisionalDraft', checked: false}) }}
            <label for="createProvisionalDraft">Create as provisional draft</label>
        </div>
        <div class="pa-input">
            {{ input('checkbox', 'pa-attach-options', 1, {id: 'ignoreExistingDrafts', checked: false}) }}
            <label for="ignoreExistingDrafts">Ignore existing drafts</label>
        </div>

        <button type="button" onclick="pa_attachNewDrafts({{ entry.id }})"
                class="btn submit pa-button">
            Create draft(s) and attach to package
        </button>
    </div>

    <div class="pa-form">

        <h2>Create new entry for package</h2>

        {{ forms.textField({
            label: 'Title',
            id: 'title',
            name: 'pa-create-options'
        }) }}


        {{ forms.selectField({
            label: 'Section',
            id: 'section',
            name: 'pa-create-options',
            options: sectionConfig.getSectionOptions()
        }) }}

        <button type="button" onclick="pa_attachNewEntry({{ entry.id }})"
                class="btn submit pa-button">
            Create entry and attach to package
        </button>
    </div>

</div>

<div id="pa-notice" style="display: none">
    Hier ist Test.
</div>
<div id="pa-error" style="display: none">
    Hier ist Test.
</div>
